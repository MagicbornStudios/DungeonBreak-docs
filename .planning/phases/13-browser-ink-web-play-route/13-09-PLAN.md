# Phase 13-09 Plan - Presenter Layer and Test Hardening

## Objective

Introduce a presentation adapter between `GameEngine` and UI, then lock behavior with unit and e2e click-flow tests.

## Files

- `docs-site/lib/escape-the-dungeon/ui/types.ts`
- `docs-site/lib/escape-the-dungeon/ui/presenter.ts`
- `docs-site/tests/unit/*.test.ts`
- `docs-site/tests/e2e/play-route.spec.ts`

## Must-Haves

1. `buildActionGroups(engine)` groups actions for left-column rendering.
2. `toFeedMessages(turnResult)` maps events deterministically to feed rows.
3. `initialFeed(engine)` seeds opening narrative.
4. Playwright validates click-driven loop, cutscene blocking, and reload restore.

## Verification

- `pnpm --dir docs-site run test:unit`
- `pnpm --dir docs-site run test:e2e`
