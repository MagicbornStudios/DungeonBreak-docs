---
phase: 07-embeddings-text-adventure-demo
plan: 01
wave: 1
depends_on: []
files_modified: []
autonomous: true
gap_closure: false
must_haves:
  truths:
    - "A PRD in `.planning` defines Escape the Dungeon (12 levels, Kael start, chapter/act pages, NPC simulation) and definition of done."
    - "A reusable Python module is split by domain (`world`, `entities`, `player`, `combat`, `narrative`, `engine`) and uses vendored adventurelib as base."
    - "A Jupyter notebook provides interactive Escape the Dungeon play and exposes chapter/page logging."
  artifacts:
    - path: ".planning/PRD-text-adventure-embeddings-demo.md"
      provides: "Phase 07 PRD and definition of done"
      min_lines: 40
    - path: ".planning/phases/07-embeddings-text-adventure-demo/07-01-SUMMARY.md"
      provides: "Execution summary for plan 01"
      min_lines: 10
  key_links:
    - from: ".planning/ROADMAP.md"
      to: ".planning/PRD-text-adventure-embeddings-demo.md"
      via: "phase 07 requirement traceability"
---

<objective>
Deliver a playable, reusable Escape the Dungeon dungeon-crawler slice in Jupyter with domain-based architecture and phase-traceable planning artifacts.
</objective>

<context>
@.planning/PRD-text-adventure-embeddings-demo.md
@.planning/PROJECT.md
@.planning/REQUIREMENTS.md
@.planning/ROADMAP.md
</context>

<tasks>
<task type="auto">
  <name>Complete planning traceability updates</name>
  <files>.planning/PROJECT.md, .planning/ROADMAP.md, .planning/REQUIREMENTS.md, .planning/TASK-REGISTRY.md, .planning/STATE.md</files>
  <action>Add phase 07 coverage and link PRD to roadmap/requirements/task tracking.</action>
  <verify>Phase 07 appears in all relevant planning artifacts with consistent wording.</verify>
  <done>Planning docs are aligned and navigable.</done>
</task>

<task type="auto">
  <name>Implement reusable demo engine module</name>
  <files>src/dungeonbreak_narrative/*.py</files>
  <action>Add domain modules for world/entities/player/combat/narrative/engine plus adventurelib integration adapter and game orchestration API.</action>
  <verify>Module imports and supports Kael + NPC action loops without notebook-specific dependencies.</verify>
  <done>Notebook can drive the game through public API calls.</done>
</task>

<task type="auto">
  <name>Ship interactive notebook and validate smoke path</name>
  <files>notebooks/*.ipynb</files>
  <action>Create/update notebook demonstrating movement across dungeon levels, core actions, background simulation, and chapter/page logs.</action>
  <verify>Smoke run completes at least one turn per core action type without runtime errors.</verify>
  <done>Demo is ready for walkthrough against PRD script.</done>
</task>
</tasks>
