# Phase 16-01 Plan - GitHub Release Policy and Gates

## Objectives

1. Make package distribution policy explicit as GitHub Releases tarball-first (no npm registry publish path).
2. Harden release workflow with semantic tag/version checks and automated release notes.
3. Add deterministic replay smoke gating for packaged runtime.
4. Validate docs-site as a true packaged consumer via tarball install in CI.

## Task Blocks

### Planning and Docs

- Update ROADMAP/REQUIREMENTS/TASK-REGISTRY/STATE/DECISIONS with explicit GitHub Releases policy.
- Update PRD and root docs to remove npm-publish implied wording.

### Workflow Hardening

- Enforce `vMAJOR.MINOR.PATCH` tag format in release workflow.
- Enforce package version == tag version.
- Enable automatic GitHub release notes generation for tagged releases.

### Packaged Consumer Gating

- Add package replay smoke script using canonical fixture hash.
- Run replay smoke in package checks.
- In CI, run docs-site checks against packed tarball dependency (ephemeral patched consumer), not workspace file link.

## Verification

- `pnpm --dir packages/engine run build`
- `pnpm --dir packages/engine run test:replay-smoke`
- `pnpm --dir docs-site run typecheck`
- `pnpm --dir docs-site run test:unit`
- `pnpm --dir docs-site run build`
