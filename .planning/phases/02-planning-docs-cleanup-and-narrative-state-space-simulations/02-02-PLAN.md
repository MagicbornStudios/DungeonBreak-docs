---
phase: 02-planning-docs-cleanup-and-narrative-state-space-simulations
plan: 02
wave: 2
depends_on: ['02-01']
files_modified: []
autonomous: true
gap_closure: false
must_haves:
  truths:
    - "PRD and key decisions live in .planning; general docs/ are not extended. Simulation notebooks in `notebooks/` visualize the 3D narrative state space, saliency, dialog triggering, and Verlet+constraints so we can understand and communicate how the system will behave—no game code."
    - "Plan 02 outputs are reflected in code or docs artifacts."
  artifacts:
    - path: ".planning/phases/02-planning-docs-cleanup-and-narrative-state-space-simulations/02-02-SUMMARY.md"
      provides: "Execution summary for plan 02"
      min_lines: 10
  key_links:
    - from: ".planning/ROADMAP.md"
      to: ".planning/phases/02-planning-docs-cleanup-and-narrative-state-space-simulations/02-02-SUMMARY.md"
      via: "plan-to-summary traceability"
---

<objective>
Create simulation notebooks in notebooks/: (1) 3D state space, saliency, dialog triggering; (2) Verlet integration and constraints. No game code.
</objective>

<context>
@.planning/narrative-engine-PRD.md
@.planning/narrative-engine-developer-guide.md
notebooks/
</context>

<tasks>
<task type="auto">
  <name>Add Notebook 1: State space and saliency</name>
  <files>notebooks/state-space-saliency.ipynb</files>
  <action>Create Jupyter notebook: 3D axes (e.g. Courage, Loyalty, Hunger); entity at P; several dialog locations; distance = saliency; 3D plot; simulate which dialog fires (weighted sample).</action>
  <verify>Notebook runs; visualizes entity + dialogs and trigger simulation.</verify>
  <done>state-space-saliency.ipynb added.</done>
</task>

<task type="auto">
  <name>Add Notebook 2: Verlet and constraints</name>
  <files>notebooks/verlet-constraints.ipynb</files>
  <action>Create Jupyter notebook: particle in 2D or 3D; Verlet steps with force; per-axis constraint (clamp p, reproject old_p); plot trajectory and velocity behavior at boundary.</action>
  <verify>Notebook runs; shows constrained Verlet behavior.</verify>
  <done>verlet-constraints.ipynb added.</done>
</task>

<task type="auto">
  <name>Add README and Plan 02 summary</name>
  <files>notebooks/README.md, .planning/phases/02-planning-docs-cleanup-and-narrative-state-space-simulations/02-02-SUMMARY.md</files>
  <action>README lists notebooks and how to run (Jupyter, numpy, matplotlib). Write 02-02-SUMMARY.md with outcomes.</action>
  <verify>README and summary exist; summary ≥10 lines.</verify>
  <done>README and 02-02-SUMMARY.md created.</done>
</task>
</tasks>
